!function(){"use strict";function r(){return{restrict:"A",scope:{product:"=trackFavourite",label:"=trackLabel"},link:function(r,t){function a(t){var a=t.selected_variant;return{id:a.id,name:t.name,product_list:window.location.pathname,brand:t.producer.name,producer:t.producer.name,label:r.label}}t.bind("click",function(){var t;t=r.product.favourite===!0?"Favourite Removed":"Favourite Added",analytics.track(t,a(r.product))})}}}angular.module("FarmDrop").directive("trackFavourite",r)}(),function(){"use strict";function r(){return{restrict:"A",scope:{trackLink:"@",trackCategory:"@",trackLabel:"@",trackProperties:"="},link:function(r,t,a){t.on("click",function(){var t=_.extend({},r.trackProperties,{category:r.trackCategory,label:r.trackLabel});try{analytics.track(a.trackLink,t)}catch(e){window.Rollbar&&window.Rollbar.warning("Not tracking "+a.trackLink,e)}})}}}angular.module("FarmDrop").directive("trackLink",r)}(),function(){"use strict";function r(){return{restrict:"A",scope:{product:"=trackProduct",quantity:"=quantity",remove:"=remove",label:"=trackLabel"},link:function(r,t){function a(t,a,e){var n="";return t.master_taxon&&t.sub_taxon&&(n=t.master_taxon.name+"/"+t.sub_taxon.name),{id:a.id,quantity:e||1,variant:a.display_name_with_units,name:t.name,price:a.price,category:n,product_list:window.location.pathname,producer:t.producer.name,brand:t.producer.name,producer_id:t.producer.id,label:r.label}}t.bind("click",function(){var t,e=r.quantity,n=r.product.variant||r.product.selected_variant,c=r.product.product||r.product;t=r.remove===!0?"Removed Product":"Added Product";try{analytics.track(t,a(c,n,e))}catch(o){window.Rollbar?window.Rollbar.warning(t,o):console.log("Not tracking "+t,o)}})}}}angular.module("FarmDrop").directive("trackProduct",r)}();